<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dynamic Form Builder</title>
</head>
<body>
  <h2>Dynamic Form Builder</h2>

  
  <label for="inputType">Choose input type:</label>
  <select id="inputType">
    <option value="text">Text</option>
    <option value="email">Email</option>
    <option value="password">Password</option>
  </select>
  <button id="addBtn">Add</button>

  <hr>

 
  <form id="dynamicForm">
    <h3>Generated Form:</h3>
    
    <br>
    <button type="submit">Submit</button>
  </form>

  <script>
    const form = document.getElementById("dynamicForm");
    const addBtn = document.getElementById("addBtn");
    const inputType = document.getElementById("inputType");

    let count = 0; 

   
    const patterns = {
      text: /^[A-Za-z ]+$/, 
      email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/, 
      password: /^(?=.*[A-Z])(?=.*\d).{8,}$/ 
    };

   
    addBtn.addEventListener("click", function (e) {
      e.preventDefault();
      const type = inputType.value;
      count++;

      const label = document.createElement("label");
      label.textContent = `${type.toUpperCase()} ${count}: `;
      label.setAttribute("for", `${type}_${count}`);

      const input = document.createElement("input");
      input.type = type === "text" ? "text" : type;
      input.id = `${type}_${count}`;
      input.name = `${type}_${count}`;
      input.dataset.type = type;

      form.insertBefore(label, form.lastElementChild);
      form.insertBefore(input, form.lastElementChild);
      form.insertBefore(document.createElement("br"), form.lastElementChild);
    });

    
    form.addEventListener("submit", function (e) {
      e.preventDefault();
      let valid = true;
      let messages = [];

      const inputs = form.querySelectorAll("input");
      inputs.forEach(input => {
        const type = input.dataset.type;
        const regex = patterns[type];

        if (!regex.test(input.value)) {
          valid = false;
          messages.push(`${input.name} is invalid`);
        }
      });

      if (!valid) {
        alert("Errors:\n" + messages.join("\n"));
      } else {
        alert("All inputs are valid!");
      }
    });
  </script>
</body>
</html>
